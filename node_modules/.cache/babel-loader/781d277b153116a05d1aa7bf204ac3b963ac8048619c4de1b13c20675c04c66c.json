{"ast":null,"code":"import axios from \"axios\";\nconst API_URL = (process.env.REACT_APP_API_BASE_URL || \"http://localhost:5001\") + \"/api/v1\";\nexport const getFavorites = async userId => {\n  const res = await axios.get(`${API_URL}/favorites/${userId}`);\n  return res.data;\n};\nexport const updateFavorites = async (userId, favorites) => {\n  const res = await axios.put(`${API_URL}/favorites`, {\n    _id: userId,\n    favorites\n  });\n  return res.data;\n};\nexport const getFavoriteMovies = async userId => {\n  try {\n    // First get the user's favorite movie IDs\n    const favoritesData = await getFavorites(userId);\n    const favoriteIds = favoritesData.favorites || [];\n    if (favoriteIds.length === 0) {\n      return [];\n    }\n\n    // Then get the full movie details for each favorite\n    const moviePromises = favoriteIds.map(async movieId => {\n      try {\n        const res = await axios.get(`${API_URL}/movies/${movieId}`);\n        return res.data;\n      } catch (error) {\n        console.error(`Error fetching movie ${movieId}:`, error);\n        return null;\n      }\n    });\n    const movies = await Promise.all(moviePromises);\n    return movies.filter(movie => movie !== null);\n  } catch (error) {\n    console.error('Error fetching favorite movies:', error);\n    return [];\n  }\n};","map":{"version":3,"names":["axios","API_URL","process","env","REACT_APP_API_BASE_URL","getFavorites","userId","res","get","data","updateFavorites","favorites","put","_id","getFavoriteMovies","favoritesData","favoriteIds","length","moviePromises","map","movieId","error","console","movies","Promise","all","filter","movie"],"sources":["/Users/tenmoutheshark/Desktop/mern-stack-project-backend-Tenmou-Vi/frontend/src/services/favorites.js"],"sourcesContent":["import axios from \"axios\";\nconst API_URL = (process.env.REACT_APP_API_BASE_URL || \"http://localhost:5001\") + \"/api/v1\";\n\nexport const getFavorites = async (userId) => {\n  const res = await axios.get(`${API_URL}/favorites/${userId}`);\n  return res.data;\n};\n\nexport const updateFavorites = async (userId, favorites) => {\n  const res = await axios.put(`${API_URL}/favorites`, {\n    _id: userId,\n    favorites,\n  });\n  return res.data;\n};\n\nexport const getFavoriteMovies = async (userId) => {\n  try {\n    // First get the user's favorite movie IDs\n    const favoritesData = await getFavorites(userId);\n    const favoriteIds = favoritesData.favorites || [];\n    \n    if (favoriteIds.length === 0) {\n      return [];\n    }\n    \n    // Then get the full movie details for each favorite\n    const moviePromises = favoriteIds.map(async (movieId) => {\n      try {\n        const res = await axios.get(`${API_URL}/movies/${movieId}`);\n        return res.data;\n      } catch (error) {\n        console.error(`Error fetching movie ${movieId}:`, error);\n        return null;\n      }\n    });\n    \n    const movies = await Promise.all(moviePromises);\n    return movies.filter(movie => movie !== null);\n  } catch (error) {\n    console.error('Error fetching favorite movies:', error);\n    return [];\n  }\n}; "],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,MAAMC,OAAO,GAAG,CAACC,OAAO,CAACC,GAAG,CAACC,sBAAsB,IAAI,uBAAuB,IAAI,SAAS;AAE3F,OAAO,MAAMC,YAAY,GAAG,MAAOC,MAAM,IAAK;EAC5C,MAAMC,GAAG,GAAG,MAAMP,KAAK,CAACQ,GAAG,CAAC,GAAGP,OAAO,cAAcK,MAAM,EAAE,CAAC;EAC7D,OAAOC,GAAG,CAACE,IAAI;AACjB,CAAC;AAED,OAAO,MAAMC,eAAe,GAAG,MAAAA,CAAOJ,MAAM,EAAEK,SAAS,KAAK;EAC1D,MAAMJ,GAAG,GAAG,MAAMP,KAAK,CAACY,GAAG,CAAC,GAAGX,OAAO,YAAY,EAAE;IAClDY,GAAG,EAAEP,MAAM;IACXK;EACF,CAAC,CAAC;EACF,OAAOJ,GAAG,CAACE,IAAI;AACjB,CAAC;AAED,OAAO,MAAMK,iBAAiB,GAAG,MAAOR,MAAM,IAAK;EACjD,IAAI;IACF;IACA,MAAMS,aAAa,GAAG,MAAMV,YAAY,CAACC,MAAM,CAAC;IAChD,MAAMU,WAAW,GAAGD,aAAa,CAACJ,SAAS,IAAI,EAAE;IAEjD,IAAIK,WAAW,CAACC,MAAM,KAAK,CAAC,EAAE;MAC5B,OAAO,EAAE;IACX;;IAEA;IACA,MAAMC,aAAa,GAAGF,WAAW,CAACG,GAAG,CAAC,MAAOC,OAAO,IAAK;MACvD,IAAI;QACF,MAAMb,GAAG,GAAG,MAAMP,KAAK,CAACQ,GAAG,CAAC,GAAGP,OAAO,WAAWmB,OAAO,EAAE,CAAC;QAC3D,OAAOb,GAAG,CAACE,IAAI;MACjB,CAAC,CAAC,OAAOY,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,wBAAwBD,OAAO,GAAG,EAAEC,KAAK,CAAC;QACxD,OAAO,IAAI;MACb;IACF,CAAC,CAAC;IAEF,MAAME,MAAM,GAAG,MAAMC,OAAO,CAACC,GAAG,CAACP,aAAa,CAAC;IAC/C,OAAOK,MAAM,CAACG,MAAM,CAACC,KAAK,IAAIA,KAAK,KAAK,IAAI,CAAC;EAC/C,CAAC,CAAC,OAAON,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,iCAAiC,EAAEA,KAAK,CAAC;IACvD,OAAO,EAAE;EACX;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}