{"ast":null,"code":"import axios from\"axios\";const API_URL=(process.env.REACT_APP_API_BASE_URL||\"http://localhost:5001\")+\"/api/v1\";export const getFavorites=async userId=>{const res=await axios.get(\"\".concat(API_URL,\"/favorites/\").concat(userId));return res.data;};export const updateFavorites=async(userId,favorites)=>{const res=await axios.put(\"\".concat(API_URL,\"/favorites\"),{_id:userId,favorites});return res.data;};export const getFavoriteMovies=async userId=>{try{// First get the user's favorite movie IDs\nconst favoritesData=await getFavorites(userId);const favoriteIds=favoritesData.favorites||[];if(favoriteIds.length===0){return[];}// Then get the full movie details for each favorite\nconst moviePromises=favoriteIds.map(async movieId=>{try{const res=await axios.get(\"\".concat(API_URL,\"/movies/\").concat(movieId));return res.data;}catch(error){console.error(\"Error fetching movie \".concat(movieId,\":\"),error);return null;}});const movies=await Promise.all(moviePromises);return movies.filter(movie=>movie!==null);}catch(error){console.error('Error fetching favorite movies:',error);return[];}};","map":{"version":3,"names":["axios","API_URL","process","env","REACT_APP_API_BASE_URL","getFavorites","userId","res","get","concat","data","updateFavorites","favorites","put","_id","getFavoriteMovies","favoritesData","favoriteIds","length","moviePromises","map","movieId","error","console","movies","Promise","all","filter","movie"],"sources":["/Users/tenmoutheshark/Desktop/mern-stack-project-backend-Tenmou-Vi/frontend/src/services/favorites.js"],"sourcesContent":["import axios from \"axios\";\nconst API_URL = (process.env.REACT_APP_API_BASE_URL || \"http://localhost:5001\") + \"/api/v1\";\n\nexport const getFavorites = async (userId) => {\n  const res = await axios.get(`${API_URL}/favorites/${userId}`);\n  return res.data;\n};\n\nexport const updateFavorites = async (userId, favorites) => {\n  const res = await axios.put(`${API_URL}/favorites`, {\n    _id: userId,\n    favorites,\n  });\n  return res.data;\n};\n\nexport const getFavoriteMovies = async (userId) => {\n  try {\n    // First get the user's favorite movie IDs\n    const favoritesData = await getFavorites(userId);\n    const favoriteIds = favoritesData.favorites || [];\n    \n    if (favoriteIds.length === 0) {\n      return [];\n    }\n    \n    // Then get the full movie details for each favorite\n    const moviePromises = favoriteIds.map(async (movieId) => {\n      try {\n        const res = await axios.get(`${API_URL}/movies/${movieId}`);\n        return res.data;\n      } catch (error) {\n        console.error(`Error fetching movie ${movieId}:`, error);\n        return null;\n      }\n    });\n    \n    const movies = await Promise.all(moviePromises);\n    return movies.filter(movie => movie !== null);\n  } catch (error) {\n    console.error('Error fetching favorite movies:', error);\n    return [];\n  }\n}; "],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,KAAM,CAAAC,OAAO,CAAG,CAACC,OAAO,CAACC,GAAG,CAACC,sBAAsB,EAAI,uBAAuB,EAAI,SAAS,CAE3F,MAAO,MAAM,CAAAC,YAAY,CAAG,KAAO,CAAAC,MAAM,EAAK,CAC5C,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAP,KAAK,CAACQ,GAAG,IAAAC,MAAA,CAAIR,OAAO,gBAAAQ,MAAA,CAAcH,MAAM,CAAE,CAAC,CAC7D,MAAO,CAAAC,GAAG,CAACG,IAAI,CACjB,CAAC,CAED,MAAO,MAAM,CAAAC,eAAe,CAAG,KAAAA,CAAOL,MAAM,CAAEM,SAAS,GAAK,CAC1D,KAAM,CAAAL,GAAG,CAAG,KAAM,CAAAP,KAAK,CAACa,GAAG,IAAAJ,MAAA,CAAIR,OAAO,eAAc,CAClDa,GAAG,CAAER,MAAM,CACXM,SACF,CAAC,CAAC,CACF,MAAO,CAAAL,GAAG,CAACG,IAAI,CACjB,CAAC,CAED,MAAO,MAAM,CAAAK,iBAAiB,CAAG,KAAO,CAAAT,MAAM,EAAK,CACjD,GAAI,CACF;AACA,KAAM,CAAAU,aAAa,CAAG,KAAM,CAAAX,YAAY,CAACC,MAAM,CAAC,CAChD,KAAM,CAAAW,WAAW,CAAGD,aAAa,CAACJ,SAAS,EAAI,EAAE,CAEjD,GAAIK,WAAW,CAACC,MAAM,GAAK,CAAC,CAAE,CAC5B,MAAO,EAAE,CACX,CAEA;AACA,KAAM,CAAAC,aAAa,CAAGF,WAAW,CAACG,GAAG,CAAC,KAAO,CAAAC,OAAO,EAAK,CACvD,GAAI,CACF,KAAM,CAAAd,GAAG,CAAG,KAAM,CAAAP,KAAK,CAACQ,GAAG,IAAAC,MAAA,CAAIR,OAAO,aAAAQ,MAAA,CAAWY,OAAO,CAAE,CAAC,CAC3D,MAAO,CAAAd,GAAG,CAACG,IAAI,CACjB,CAAE,MAAOY,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,yBAAAb,MAAA,CAAyBY,OAAO,MAAKC,KAAK,CAAC,CACxD,MAAO,KAAI,CACb,CACF,CAAC,CAAC,CAEF,KAAM,CAAAE,MAAM,CAAG,KAAM,CAAAC,OAAO,CAACC,GAAG,CAACP,aAAa,CAAC,CAC/C,MAAO,CAAAK,MAAM,CAACG,MAAM,CAACC,KAAK,EAAIA,KAAK,GAAK,IAAI,CAAC,CAC/C,CAAE,MAAON,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,iCAAiC,CAAEA,KAAK,CAAC,CACvD,MAAO,EAAE,CACX,CACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}