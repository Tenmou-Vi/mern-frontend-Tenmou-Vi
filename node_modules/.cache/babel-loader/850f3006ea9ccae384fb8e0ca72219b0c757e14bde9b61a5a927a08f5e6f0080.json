{"ast":null,"code":"import axios from \"axios\";\nconst API_URL = (process.env.REACT_APP_API_BASE_URL || \"http://localhost:5001\") + \"/api/v1\";\nexport const getFavorites = async userId => {\n  console.log(\"🔍 [getFavorites] Getting favorites for user:\", userId);\n  console.log(\"🔍 [getFavorites] API URL:\", `${API_URL}/favorites/${userId}`);\n  const res = await axios.get(`${API_URL}/favorites/${userId}`);\n  console.log(\"🔍 [getFavorites] Response:\", res.data);\n  return res.data;\n};\nexport const updateFavorites = async (userId, favorites) => {\n  const res = await axios.put(`${API_URL}/favorites`, {\n    userId: userId,\n    favorites\n  });\n  return res.data;\n};\nexport const getFavoriteMovies = async userId => {\n  try {\n    // First get the user's favorite movie IDs\n    const favoritesData = await getFavorites(userId);\n    const favoriteIds = favoritesData.favorites || [];\n    if (favoriteIds.length === 0) {\n      return [];\n    }\n\n    // Then get the full movie details for each favorite\n    const moviePromises = favoriteIds.map(async movieId => {\n      try {\n        const res = await axios.get(`${API_URL}/movies/id/${movieId}`);\n        return res.data;\n      } catch (error) {\n        console.error(`Error fetching movie ${movieId}:`, error);\n        return null;\n      }\n    });\n    const movies = await Promise.all(moviePromises);\n    return movies.filter(movie => movie !== null);\n  } catch (error) {\n    console.error('Error fetching favorite movies:', error);\n    return [];\n  }\n};","map":{"version":3,"names":["axios","API_URL","process","env","REACT_APP_API_BASE_URL","getFavorites","userId","console","log","res","get","data","updateFavorites","favorites","put","getFavoriteMovies","favoritesData","favoriteIds","length","moviePromises","map","movieId","error","movies","Promise","all","filter","movie"],"sources":["/Users/tenmoutheshark/Desktop/mern-stack-project-backend-Tenmou-Vi/frontend/src/services/favorites.js"],"sourcesContent":["import axios from \"axios\";\nconst API_URL = (process.env.REACT_APP_API_BASE_URL || \"http://localhost:5001\") + \"/api/v1\";\n\nexport const getFavorites = async (userId) => {\n  console.log(\"🔍 [getFavorites] Getting favorites for user:\", userId);\n  console.log(\"🔍 [getFavorites] API URL:\", `${API_URL}/favorites/${userId}`);\n  const res = await axios.get(`${API_URL}/favorites/${userId}`);\n  console.log(\"🔍 [getFavorites] Response:\", res.data);\n  return res.data;\n};\n\nexport const updateFavorites = async (userId, favorites) => {\n  const res = await axios.put(`${API_URL}/favorites`, {\n    userId: userId,\n    favorites,\n  });\n  return res.data;\n};\n\nexport const getFavoriteMovies = async (userId) => {\n  try {\n    // First get the user's favorite movie IDs\n    const favoritesData = await getFavorites(userId);\n    const favoriteIds = favoritesData.favorites || [];\n    \n    if (favoriteIds.length === 0) {\n      return [];\n    }\n    \n    // Then get the full movie details for each favorite\n    const moviePromises = favoriteIds.map(async (movieId) => {\n      try {\n        const res = await axios.get(`${API_URL}/movies/id/${movieId}`);\n        return res.data;\n      } catch (error) {\n        console.error(`Error fetching movie ${movieId}:`, error);\n        return null;\n      }\n    });\n    \n    const movies = await Promise.all(moviePromises);\n    return movies.filter(movie => movie !== null);\n  } catch (error) {\n    console.error('Error fetching favorite movies:', error);\n    return [];\n  }\n}; "],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,MAAMC,OAAO,GAAG,CAACC,OAAO,CAACC,GAAG,CAACC,sBAAsB,IAAI,uBAAuB,IAAI,SAAS;AAE3F,OAAO,MAAMC,YAAY,GAAG,MAAOC,MAAM,IAAK;EAC5CC,OAAO,CAACC,GAAG,CAAC,+CAA+C,EAAEF,MAAM,CAAC;EACpEC,OAAO,CAACC,GAAG,CAAC,4BAA4B,EAAE,GAAGP,OAAO,cAAcK,MAAM,EAAE,CAAC;EAC3E,MAAMG,GAAG,GAAG,MAAMT,KAAK,CAACU,GAAG,CAAC,GAAGT,OAAO,cAAcK,MAAM,EAAE,CAAC;EAC7DC,OAAO,CAACC,GAAG,CAAC,6BAA6B,EAAEC,GAAG,CAACE,IAAI,CAAC;EACpD,OAAOF,GAAG,CAACE,IAAI;AACjB,CAAC;AAED,OAAO,MAAMC,eAAe,GAAG,MAAAA,CAAON,MAAM,EAAEO,SAAS,KAAK;EAC1D,MAAMJ,GAAG,GAAG,MAAMT,KAAK,CAACc,GAAG,CAAC,GAAGb,OAAO,YAAY,EAAE;IAClDK,MAAM,EAAEA,MAAM;IACdO;EACF,CAAC,CAAC;EACF,OAAOJ,GAAG,CAACE,IAAI;AACjB,CAAC;AAED,OAAO,MAAMI,iBAAiB,GAAG,MAAOT,MAAM,IAAK;EACjD,IAAI;IACF;IACA,MAAMU,aAAa,GAAG,MAAMX,YAAY,CAACC,MAAM,CAAC;IAChD,MAAMW,WAAW,GAAGD,aAAa,CAACH,SAAS,IAAI,EAAE;IAEjD,IAAII,WAAW,CAACC,MAAM,KAAK,CAAC,EAAE;MAC5B,OAAO,EAAE;IACX;;IAEA;IACA,MAAMC,aAAa,GAAGF,WAAW,CAACG,GAAG,CAAC,MAAOC,OAAO,IAAK;MACvD,IAAI;QACF,MAAMZ,GAAG,GAAG,MAAMT,KAAK,CAACU,GAAG,CAAC,GAAGT,OAAO,cAAcoB,OAAO,EAAE,CAAC;QAC9D,OAAOZ,GAAG,CAACE,IAAI;MACjB,CAAC,CAAC,OAAOW,KAAK,EAAE;QACdf,OAAO,CAACe,KAAK,CAAC,wBAAwBD,OAAO,GAAG,EAAEC,KAAK,CAAC;QACxD,OAAO,IAAI;MACb;IACF,CAAC,CAAC;IAEF,MAAMC,MAAM,GAAG,MAAMC,OAAO,CAACC,GAAG,CAACN,aAAa,CAAC;IAC/C,OAAOI,MAAM,CAACG,MAAM,CAACC,KAAK,IAAIA,KAAK,KAAK,IAAI,CAAC;EAC/C,CAAC,CAAC,OAAOL,KAAK,EAAE;IACdf,OAAO,CAACe,KAAK,CAAC,iCAAiC,EAAEA,KAAK,CAAC;IACvD,OAAO,EAAE;EACX;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}